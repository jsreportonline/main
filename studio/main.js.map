{"version":3,"sources":["webpack:///webpack/bootstrap 95ab7caa60662321e599","webpack:///./studio/main_dev.js","webpack:///external \"Studio\"","webpack:///./studio/BillingEditor.js","webpack:///external \"Studio.libraries['react-list']\"","webpack:///external \"Studio.libraries['react']\"","webpack:///./studio/UpgradePlanModal.js","webpack:///external \"Studio.libraries['superagent']\"","webpack:///./studio/BillingButton.js","webpack:///./studio/ChangePasswordSettingsButton.js","webpack:///./studio/ChangePasswordModal.js","webpack:///./studio/ContactEmailModal.js"],"names":["localStorage","window","addEditorComponent","previewListeners","push","setTimeout","api","get","response","authentication","user","creditsUsed","tenant","readyListeners","creditsExceeded","Math","round","creditsAvailable","isModalUsed","store","getState","modal","isOpen","contactEmailNotRegistered","isAdmin","contactEmail","contactEmailModal","openModal","creditsExceededModal","props","color","floor","close","checkMessages","request","resolveUrl","end","err","body","messageId","getItem","id","setItem","__html","content","intervalId","setInterval","clearInterval","initializeListeners","billingHistory","addToolbarComponent","openTab","key","editorComponentKey","title","ReportEditor","index","item","billedDate","toLocaleString","items","ref","upgradeModalOpenned","updatePlan","startProgress","plan","stopProgress","forceUpdate","name","createdOn","email","marginLeft","openUpgradeModal","renderItems","renderItem","length","UpgradePlanModal","width","height","propTypes","func","isRequired","options","object","ReportsButton","openBilling","entity","cursor","ChangePasswordModal","state","data","newPassword","refs","newPassword1","value","oldPassword","post","newPassword2","code","setState","validationError","apiError","message","passwordError","validatePassword","display","changePassword","ContactEmailModal","saveContactEmail"],"mappings":"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","file":"./studio/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 95ab7caa60662321e599\n **/","import Studio from 'jsreport-studio'\nimport BillingEditor from './BillingEditor.js'\nimport superagent from 'superagent'\nimport BillingButton from './BillingButton.js'\nimport ChangePasswordSettingsButton from './ChangePasswordSettingsButton.js'\nimport ContactEmailModal from './ContactEmailModal'\n\nconst localStorage = window.localStorage\n\nStudio.addEditorComponent('billing', BillingEditor)\n\nStudio.previewListeners.push(() => {\n  setTimeout(async () => {\n    const response = await Studio.api.get('/api/settings')\n    Studio.authentication.user.creditsUsed = response.tenant.creditsUsed\n  }, 5000)\n})\n\nStudio.readyListeners.push(async () => {\n  const creditsExceeded = Math.round(Studio.authentication.user.creditsUsed / 1000) > Studio.authentication.user.creditsAvailable\n\n  const isModalUsed = () => {\n    return Studio.store.getState().modal.isOpen\n  }\n\n  const contactEmailNotRegistered = () => (\n    Studio.authentication.user &&\n    Studio.authentication.user.isAdmin &&\n    Studio.authentication.user.contactEmail == null\n  )\n\n  const contactEmailModal = () => Studio.openModal(ContactEmailModal)\n\n  const creditsExceededModal = () => Studio.openModal((props) => {\n    let creditsAvailable = Studio.authentication.user.creditsAvailable\n    let creditsUsed = Math.round(Studio.authentication.user.creditsUsed / 1000)\n\n    return (\n      <div>\n        <p>\n          The monthly prepaid credits in your account has been exceeded.\n          Please upgrade your <a href='https://jsreport.net/buy/online' target='_blank'>jsreportonline plan</a> to avoid service interruption.\n        </p>\n        <p>\n          <b>\n            Available:{' '}\n            <span style={{ color: '#008000' }}>{creditsAvailable}</span>\n          </b>\n          <br />\n          <b>\n            Used:{' '}\n            <span style={{ color: '#c7a620' }}>{creditsUsed}</span>\n          </b>\n          <br />\n          <b>\n            Excess:{' '}\n            <span style={{ color: '#ff0000' }}>{`${creditsUsed - creditsAvailable} (${Math.floor(((creditsUsed - creditsAvailable) / creditsAvailable) * 100)}%)`}</span>\n          </b>\n        </p>\n        <div className='button-bar'>\n          <button className='button confirmation' onClick={() => props.close()}>ok</button>\n        </div>\n      </div>\n    )\n  })\n\n  const checkMessages = async () => {\n    const request = superagent.get(Studio.resolveUrl('/api/message'))\n    // eslint-disable-next-line handle-callback-err\n    request.end((err, response) => {\n      if (response && response.body) {\n        const messageId = localStorage.getItem('messageId')\n\n        if (isModalUsed()) {\n          return\n        }\n\n        if (messageId !== response.body.id) {\n          localStorage.setItem('messageId', response.body.id)\n\n          Studio.openModal((props) => (\n            <div>\n              <div dangerouslySetInnerHTML={{ __html: response.body.content }} />\n              <div className='button-bar'>\n                <button className='button confirmation' onClick={() => props.close()}>ok</button>\n              </div>\n            </div>\n          ))\n        }\n      }\n    })\n  }\n\n  if (creditsExceeded) {\n    let intervalId\n\n    creditsExceededModal()\n\n    intervalId = setInterval(() => {\n      if (!isModalUsed()) {\n        clearInterval(intervalId)\n\n        if (contactEmailNotRegistered()) {\n          contactEmailModal()\n        }\n      }\n    }, 2500)\n  } else {\n    if (\n      !isModalUsed() &&\n      contactEmailNotRegistered()\n    ) {\n      contactEmailModal()\n    }\n  }\n\n  setInterval(checkMessages, 5 * 60 * 1000)\n  checkMessages()\n})\n\nStudio.initializeListeners.push(async () => {\n  Studio.authentication.user.billingHistory = Studio.authentication.user.billingHistory || []\n\n  Studio.addToolbarComponent(BillingButton, 'right')\n  Studio.addToolbarComponent(() => <div\n    className='toolbar-button'\n    onClick={() => Studio.openTab({ key: 'Billing', editorComponentKey: 'billing', title: 'Billing' })}>\n    <i className='fa fa-usd' /> Billing\n  </div>, 'settings')\n\n  Studio.addToolbarComponent(ChangePasswordSettingsButton, 'settings')\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/main_dev.js\n **/","module.exports = Studio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio\"\n ** module id = 1\n ** module chunks = 0\n **/","import ReactList from 'react-list'\nimport React, { Component} from 'react'\nimport Studio from 'jsreport-studio'\nimport UpgradePlanModal from './UpgradePlanModal.js'\n\nexport default class ReportEditor extends Component {\n  renderItem (index) {\n    const item = Studio.authentication.user.billingHistory[index]\n    return <tr key={index}>\n      <td>{item.billedDate.toLocaleString()}</td>\n      <td>{Math.round(item.creditsUsed / 1000)}</td>\n    </tr>\n  }\n\n  renderItems (items, ref) {\n    return <table className='table' ref={ref}>\n      <thead>\n        <tr>\n          <th>billed date</th>\n          <th>credits spent</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items}\n      </tbody>\n    </table>\n  }\n\n  openUpgradeModal () {\n    this.upgradeModalOpenned = true\n    Studio.openModal(UpgradePlanModal, {})\n  }\n\n  componentDidMount () {\n    this.updatePlan()\n  }\n\n  async updatePlan () {\n    Studio.startProgress()\n    const response = await Studio.api.get('/api/settings')\n    Studio.authentication.user.plan = response.tenant.plan\n    Studio.authentication.user.creditsAvailable = response.tenant.creditsAvailable\n    Studio.stopProgress()\n    this.forceUpdate()\n  }\n\n  componentDidUpdate () {\n    if (this.upgradeModalOpenned) {\n      Studio.startProgress()\n      setTimeout(() => this.updatePlan(), 6000)\n    }\n\n    this.upgradeModalOpenned = false\n  }\n\n  render () {\n    return <div className='block custom-editor'>\n      <div>\n        <h1><i className='fa fa-home' /> {Studio.authentication.user.name} </h1>\n        <small>created on: {Studio.authentication.user.createdOn.toLocaleString()}</small>\n        <br />\n        <small>admin email: {Studio.authentication.user.email}</small>\n      </div>\n      <div>\n        <h2>current billing plan</h2>\n\n        <button style={{marginLeft: '0rem'}} className='button confirmation'>\n          {Studio.authentication.user.plan || 'free'} {Math.round(Studio.authentication.user.creditsUsed / 1000) + ' '}\n          / {Studio.authentication.user.creditsAvailable}\n        </button>\n\n        <button className='button confirmation' onClick={() => this.openUpgradeModal()}>\n          Upgrade plan\n        </button>\n\n        <a className='button confirmation' href='https://gumroad.com/library' target='_blank'>\n          Payment details\n        </a>\n\n        <a className='button danger' href='https://gumroad.com/library' target='_blank'>\n          Cancel subscription\n        </a>\n\n        <p>\n          <small>\n            We use <a href='https://gumroad.com' target='_blank'>gumroad.com</a> to mange jsreportonline payments and subscriptions.\n            If you have any issues with payments, please contact gumroad support.<br /> If the plan upgrade is not propagated after\n            several minutes, please contact jsreport support.<br /><br />\n\n            <b>Please cancel the old subscription when upgrading between payed plans.</b>\n          </small>\n        </p>\n      </div>\n      <div className='block-item'>\n        <h2>billing history</h2>\n        <ReactList type='uniform' itemsRenderer={this.renderItems} itemRenderer={(index) => this.renderItem(index)}\n          length={Studio.authentication.user.billingHistory.length} />\n      </div>\n    </div>\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/BillingEditor.js\n **/","module.exports = Studio.libraries['react-list'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react-list']\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = Studio.libraries['react'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react']\"\n ** module id = 4\n ** module chunks = 0\n **/","import React, {Component, PropTypes} from 'react'\n\nexport default class UpgradePlanModal extends Component {\n  static propTypes = {\n    close: PropTypes.func.isRequired,\n    options: PropTypes.object.isRequired\n  }\n\n  render () {\n    return (\n      <div style={{ width: '710px', height: '640px' }}>\n        <iframe src='/gumroad.html' style={{ width: '100%', height: '100%' }} frameBorder='0' />\n      </div>\n    )\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/UpgradePlanModal.js\n **/","module.exports = Studio.libraries['superagent'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['superagent']\"\n ** module id = 6\n ** module chunks = 0\n **/","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\n\nexport default class ReportsButton extends Component {\n  openBilling () {\n    Studio.openTab({ key: 'Billing', editorComponentKey: 'billing', title: 'Billing' })\n  }\n\n  render () {\n    return <div onClick={() => this.openBilling()} className='toolbar-button'>\n      <i className='fa fa-usd' /> {Math.round(Studio.authentication.user.creditsUsed / 1000)} / {Studio.authentication.user.creditsAvailable}\n    </div>\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/BillingButton.js\n **/","import ChangePasswordModal from './ChangePasswordModal.js'\nimport Studio from 'jsreport-studio'\n\nexport default (props) => {\n  return Studio.authentication.user.isAdmin ? <div>\n    <a\n      id='changePassword'\n      onClick={() => Studio.openModal(ChangePasswordModal, { entity: Studio.authentication.user })}\n      style={{cursor: 'pointer'}}><i className='fa fa-key' /> Change password\n    </a>\n  </div> : <div />\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ChangePasswordSettingsButton.js\n **/","import React, {Component, PropTypes} from 'react'\nimport Studio from 'jsreport-studio'\n\nexport default class ChangePasswordModal extends Component {\n  static propTypes = {\n    close: PropTypes.func.isRequired,\n    options: PropTypes.object.isRequired\n  }\n\n  constructor () {\n    super()\n    this.state = {}\n  }\n\n  async changePassword () {\n    const { close } = this.props\n\n    try {\n      let data = {\n        newPassword: this.refs.newPassword1.value,\n        oldPassword: this.refs.oldPassword.value\n      }\n\n      const response = await Studio.api.post(`/api/password`, { data: data })\n\n      this.refs.newPassword1.value = ''\n      this.refs.newPassword2.value = ''\n\n      if (response.code !== 'ok') {\n        this.setState({ validationError: response.code })\n        return\n      }\n\n      close()\n    } catch (e) {\n      this.setState({ apiError: e.message })\n    }\n  }\n\n  validatePassword () {\n    this.setState(\n      {\n        passwordError: this.refs.newPassword2.value && this.refs.newPassword2.value !== this.refs.newPassword1.value,\n        apiError: null\n      })\n  }\n\n  render () {\n    return <div>\n      <div className='form-group'>\n        <label>old password</label>\n        <input type='password' ref='oldPassword' />\n      </div>\n      <div className='form-group'>\n        <label>new password</label>\n        <input type='password' ref='newPassword1' />\n      </div>\n      <div className='form-group'>\n        <label>new password verification</label>\n        <input type='password' ref='newPassword2' onChange={() => this.validatePassword()} />\n      </div>\n      <div className='form-group'>\n        <span style={{color: 'red', display: this.state.validationError ? 'block' : 'none'}}>{this.state.validationError}</span>\n        <span style={{color: 'red', display: this.state.passwordError ? 'block' : 'none'}}>password doesn't match</span>\n        <span style={{color: 'red', display: this.state.apiError ? 'block' : 'none'}}>{this.state.apiError}</span>\n      </div>\n      <div className='button-bar'>\n        <button className='button confirmation' onClick={() => this.changePassword()}>ok</button>\n      </div>\n    </div>\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ChangePasswordModal.js\n **/","import React, { Component, PropTypes } from 'react'\nimport Studio from 'jsreport-studio'\n\nexport default class ContactEmailModal extends Component {\n  static propTypes = {\n    close: PropTypes.func.isRequired,\n    options: PropTypes.object.isRequired\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      validationError: null,\n      apiError: null\n    }\n  }\n\n  async saveContactEmail () {\n    const { close } = this.props\n\n    try {\n      let data = {\n        contactEmail: this.refs.contactEmail.value\n      }\n\n      const response = await Studio.api.post(`/api/register-contact-email`, { data: data })\n\n      this.refs.contactEmail.value = ''\n\n      if (response.code !== 'ok') {\n        this.setState({ validationError: response.code })\n        return\n      }\n\n      close()\n    } catch (e) {\n      this.setState({ apiError: e.message })\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <p>\n          We need to have a contact email in case of any notification about the service or to communicate directly if necessary.\n          <br />\n          Please provide the email of the person who is in charge of any use of the service\n        </p>\n        <div>\n          <div className='form-group'>\n            <label>Contact Email</label>\n            <input type='text' placeholder='email...' ref='contactEmail' />\n          </div>\n          <div className='form-group'>\n            <span style={{color: 'red', display: this.state.validationError ? 'block' : 'none'}}>{this.state.validationError}</span>\n            <span style={{color: 'red', display: this.state.apiError ? 'block' : 'none'}}>{this.state.apiError}</span>\n          </div>\n          <div className='button-bar'>\n            <button className='button confirmation' onClick={() => this.saveContactEmail()}>save</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ContactEmailModal.js\n **/"],"sourceRoot":""}